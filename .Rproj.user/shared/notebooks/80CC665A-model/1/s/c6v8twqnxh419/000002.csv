"0","#read in data. Change names to be more readable and make hourly demand numeric"
"0","sd <- read.csv(""2_year_system_demand.csv"")%>%"
"0","  rename('hourly_demand' = 'Hourly.Demand..cfs.',"
"0","         'date_time' = 'Read.Date.Time')%>%"
"0","  mutate(hourly_demand = as.numeric(hourly_demand),"
"0","         hourly_demand = ifelse(is.na(hourly_demand),0,hourly_demand)) #What do we do with NA's???"
"0",""
"0","#Make Date and Time match a consistent format with the Weather Data"
"0","sd2 <- as.data.frame(str_split_fixed(sd$date_time, "" "", 3))%>%"
"0","  rename(date = V1, time = V2, am_or_pm = V3)%>%"
"0","  mutate(datetime_str = paste(date, time, am_or_pm),"
"0","         datetime = as.POSIXct(strptime(datetime_str, format = ""%m/%d/%y %I:%M %p"")),"
"0","         datetime_military = strftime(datetime, format = ""%m/%d/%Y %H:%M"")) %>%"
"0","  select(datetime,datetime_military)"
"0","sd3 <-as.data.frame(str_split_fixed(sd2$datetime_military, "" "", 2))%>%"
"0","  rename(date = V1, time = V2)"
"0","sd4 <-as.data.frame(str_split_fixed(sd3$date, ""/"", 3))%>%"
"0","  rename(CalendarMonth = V1,  CalendarDay = V2, CalendarYear = V3)"
"0","#Throw it all together"
"0","sd <- cbind(sd,sd2,sd3,sd4)%>%"
"0","  select(-date_time)"
"0","#Get rid of temp dfs"
"0","remove(sd2,sd3,sd4)"
"0",""
"0","#The names and dates in this table do not need much conversion"
"0","wa <- read.csv(""weather_sl_airport.csv"")%>%"
"0","  mutate(RainDays = factor(RainDays),"
"0","         WeatherDate = as.Date(WeatherDate,format=""%m/%d/%Y""))%>%"
"0","  filter(CalendarYear>=2020)"
"0","  "
"0","  "
"0","  "
"0",""
"0","sp <- read.csv(""system_demand_by_point_type.csv"")%>%"
"0","  rename('date_time' = 'Read.Date.Time',"
"0","         'well_flow_cfs' = 'Well.Flow..cfs.',"
"0","         'purchased_flow_cfs' = 'Purchased.Flow..cfs.',"
"0","         'transported_flow_cfs' = 'Transported.Flow..cfs.',"
"0","         'treated_flow_cfs' = 'Treated.Flow..cfs.',"
"0","         'injected_flow_cfs' = 'Injected.Flow..cfs.',"
"0","         'reservoir_trend_cfs' = 'Reservoir.Trend..cfs.',)"
"0","#Make Date and Time match a consistant format with the Weather Data"
"0","sp2 <- as.data.frame(str_split_fixed(sp$date_time, "" "", 3))%>%"
"0","  rename(date = V1, time = V2, am_or_pm = V3)%>%"
"0","  mutate(datetime_str = paste(date, time, am_or_pm),"
"0","         datetime = as.POSIXct(strptime(datetime_str, format = ""%m/%d/%y %I:%M %p"")),"
"0","         datetime_military = strftime(datetime, format = ""%m/%d/%Y %H:%M"")) %>%"
"0","  select(datetime,datetime_military)"
"0","sp3 <-as.data.frame(str_split_fixed(sp2$datetime_military, "" "", 2))%>%"
"0","  rename(date = V1, time = V2)"
"0","sp4 <-as.data.frame(str_split_fixed(sp3$date, ""/"", 3))%>%"
"0","  rename(CalendarMonth = V1,  CalendarDay = V2, CalendarYear = V3)"
"0","#Throw it all together"
"0","sp <- cbind(sp,sp2,sp3,sp4)%>%"
"0","  mutate(reservoir_trend_cfs = as.numeric(reservoir_trend_cfs))%>%"
"0","  select(-date_time)"
"0","#Get rid of temp dfs"
"0","remove(sp2,sp3,sp4)"
