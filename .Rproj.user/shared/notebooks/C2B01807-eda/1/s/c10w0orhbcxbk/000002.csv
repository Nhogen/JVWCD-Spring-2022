"0","#Weather data begins prior to 2020 where the system data begins. Truncate for merging"
"0","merweth=wa %>% "
"0","  filter(CalendarYear>=2020)"
"0","#Date column is a character. Convert to date"
"0","merweth=merweth %>% "
"0","  mutate(WeatherDate = as.Date(WeatherDate,format=""%m/%d/%Y""))"
"0","#Date column is in POSIXct format. Convert to date"
"0","mersd=sd %>% "
"0","  mutate(ActualDate = as.Date(paste(as.numeric(sd$CalendarMonth),"
"0","                                    as.numeric(sd$CalendarDay),"
"0","                                    as.numeric(sd$CalendarYear),"
"0","                                    sep=""-""),"
"0","                                    format=""%m-%d-%Y""))"
"0","#Change hourly_demand to avg_daily demand for merge"
"0","mershrink=mersd %>% "
"0","  group_by(ActualDate) %>% "
"0","  summarize(avgdaily_demand = mean(hourly_demand))"
"0",""
"0","#remove NA at the bottom"
"0","mershrink=mershrink[1:731,] "
"0",""
"0",""
"0","#Merge Datasets"
"0","merginated = merge(mershrink,merweth,by.x = ""ActualDate"","
"0","                   by.y = ""WeatherDate"",all.y = TRUE,"
"0","                   all.x = FALSE)"
